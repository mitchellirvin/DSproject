<?xml version="1.0" encoding="UTF-8"?>
<domain>
	<!-- Natural language generation models. The domain can produce new system 
		utterance either when the current step is changed, or when a new system action 
		is selected. -->


	<model trigger="current_step">
		<!--Model producing new system utterances when the current step is moved 
			to a new step. -->

		<!-- Asks for the destination -->
		<rule>
			<case>
				<condition>
					<if var="current_step" value="State" />
				</condition>
				<effect util="1">
					<set var="u_m" value="Please try and guess the state." />
				</effect>
			</case>
		</rule>

		<!-- Closes the interaction -->
		<rule>
			<case>
				<condition>
					<if var="current_step" value="Close" />
				</condition>
				<effect util="1">
					<set var="u_m" value="Thank you for playing!" />
				</effect>
			</case>
		</rule>


	</model>


	<model trigger="a_m">
		<!-- Model producing new system utterances related to the last system action -->

		<!-- grounding the state -->
		<rule>
			<case>
				<condition>
					<if var="a_m" value="Ground(State,{sta})" />
				</condition>
				<effect util="1">
					<set var="u_m" value="OK, flying to {sta}." />
				</effect>
			</case>
		</rule>
		
	</model>

</domain>