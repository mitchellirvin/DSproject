<domain> 
<!-- BEGIN U_U -->
    
    <!-- Receive input from user -->
    <!-- This model takes a user utterance and decides the corresponding user act --> 
    <model trigger="u_u">
        <rule>
        	
        	<!-- if the user is confirming the request to start the game --> 
        	<case>
        		<condition>
        			<if var="join" relation="in" value="[Yes,Yeah,Yea,Sure,Okay,No,Nope,yes,yeah,yea,sure,okay,no,nope]"/>
        			<if var="u_u" relation="contains" value="Yes|Yeah|Yea|Sure|Okay|No|Nope|yes|yeah|yea|sure|okay|no|nope"/>
        			<if var="current_step" relation="=" value="begin"/>
        		</condition>
        		<!-- set the user act to be agree (to start the game whether they agreed or not, lol) --> 
        		<!-- and passes the "join" variable in that act --> 
        		<effect prob="1">
        			<set var="a_u" value="agree({join})"/>
        		</effect>
        	</case>
            
        	<!-- if the user is asking for their second hint -->
    	    <case>
    		    <condition>
    			    <if var="hint" relation="in" value="[Hint,Another,Clue,Help,hint,help,clue]"/>
    			    <if var="u_u" relation="contains" value="Hint|Another|One|One more|another|please|Clue|Help|hint|help|clue"/>
    			    <if var="current_step" relation="=" value="firsth"/>
        		</condition>
        		<!-- set user act to be asking for a hint, increment step to next hint -->
        		<effect prob="1">
        			<set var="a_u" value="ask({hint})"/>
        			<set var="current_step" value="secondh"/>
        		</effect>
        	</case>
        	
        	<!-- if the user is asking for their third hint -->
    	    <case>
    		    <condition>
    			    <if var="hint" relation="in" value="[Hint,Another,Clue,Help,hint,help,clue]"/>
    			    <if var="u_u" relation="contains" value="Hint|Another|One|One more|another|please|Clue|Help|hint|help|clue"/>
    			    <if var="current_step" relation="=" value="secondh"/>
        		</condition>
        		<!-- set user act to be asking for a hint, increment step to next hint -->
        		<effect prob="1">
        			<set var="a_u" value="ask({hint})"/>
        			<set var="current_step" value="thirdh"/>
        		</effect>
        	</case>
        	
        	
        	<!-- if the user is asking for their final hint -->
    	    <case>
    		    <condition>
    			    <if var="hint" relation="in" value="[Hint,Another,Clue,Help,hint,help,clue]"/>
    			    <if var="u_u" relation="contains" value="Hint|Another|One|One more|another|please|Clue|Help|hint|help|clue"/>
    			    <if var="current_step" relation="=" value="thirdh"/>
        		</condition>
        		<!-- set user act to be asking for a hint, increment step to next hint -->
        		<effect prob="1">
        			<set var="a_u" value="ask({hint})"/>
        			<set var="current_step" value="finalh"/>
        		</effect>
        	</case>
        	
            
         <!-- if the current step is a hint, set a_u to guess and pass their guess as a parameter -->
        	<case>
        		<condition>
        		    <!-- If the current step is first hint AND their utterance contains a state --> 
        			<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
        			<!-- takes uppercase, lower case, and abbreviated versions of states as inputs -->
        			<if var="X" relation="in" value="[Alabama, Alaska, Arizona, Arkansas, California, Colorado, Connecticut, Delaware, Florida, Georgia, Hawaii, Idaho, Illinois, Indiana, Iowa, Kansas, Kentucky, Louisiana, Maine, Maryland, Massachusetts, Michigan, Minnesota, Mississippi, Missouri, Montana, Nebraska, Nevada, New Hampshire, New Jersey, New Mexico, New York, North Carolina, North Dakota, Ohio, Oklahoma, Oregon, Pennsylvania, Rhode Island, South Carolina, South Dakota, Tennessee, Texas, Utah, Vermont, Virginia, Washington, West Virginia, Wisconsin, Wyoming, alabama, alaska, arizona, arkansas, california, colorado, connecticut, delaware, florida, georgia, hawaii, idaho, illinois, indiana, iowa, kansas, kentucky, louisiana, maine, maryland, massachusetts, michigan, minnesota, mississippi, missouri, montana, nebraska, nevada, new hampshire, new jersey, new mexico, new york, north carolina, north dakota, ohio, oklahoma, oregon, pennsylvania, rhode island, south carolina, south dakota, tennessee, texas, utah, vermont, virginia, washington, west virginia, wisconsin, wyoming, AL, AK, AZ, AR, CA, CO, CT, DE, FL, GA, HI, ID, IL, IN, IA, KS, KY, LA, ME, MD, MA, MH, MN, MS, MO, MT, NE, NV, NH, NJ, NM, NY, NC, ND, OH, OK, OR, PA, RI, SC, SD, RN, TX, UT, VT, VA, WA, WV, WI, WY]"/>
        			<if var="u_u" relation="contains" value="{X}"/>
        		</condition>
        		<!-- Set the user act to Guess and pass the state that they guessed --> 
        		<effect prob="1">
        			<set var="a_u" value="Guess({X})"/>
        		</effect>
        	</case>
        	
     	<!-- if the current step is a hint, set a_u to guess and pass their guess as a parameter -->
        	<case>
        		<condition>
        		    <!-- If the current step is first hint AND their utterance DOES NOT contain a state--> 
        			<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
        		</condition>
        		<!-- Set the user act to Guess and pass the state that they guessed --> 
        		<effect prob="1">
        			<set var="u_m" value="I have no idea what you said. Please get your crap together and guess an actual state you plebeian."/>
        		</effect>
        	</case>
        	
    	</rule>
    
    </model>    <!-- END U_U MODEL --> 
	
</domain>