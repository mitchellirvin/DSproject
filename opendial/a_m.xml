<domain>
	
<!-- Code what computer acts. Write the algorithm-->
    <!-- model to take the machine act and determine the machine's utterance based on --> 
    <!-- a_m and current step --> 
    <model trigger="a_m">
    	
    	<!-- rule for current step begin -->
    	<rule>
    		<!-- case to handle unrecognized user utterance for step begin --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="0"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="1"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="1"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="2"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="2"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="3"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="3"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="4"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="4"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="5"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="5"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="6"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="6"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="7"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="7"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="8"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="8"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="9"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="9"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="10"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="10"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="11"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="11"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="12"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="12"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="13"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="13"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="14"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="repeatbegin"/>
    				<if var="recogErrorCount" relation="=" value="14"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play?"/>
    				<set var="recogErrorCount" value="15"/>
    			</effect>
    		</case>
    		
    		<!-- case to handle unrecognized user utterance for step hints --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="0"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="1"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="1"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="2"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="2"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="3"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="3"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="4"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="4"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="5"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="5"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="6"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="6"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="7"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="7"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="8"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="8"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="9"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="9"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="10"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="10"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="11"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="11"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="12"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="12"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="13"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="13"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="14"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh|finalh"/>
    				<if var="a_m" relation="=" value="repeathint"/>
    				<if var="recogErrorCount" relation="=" value="14"/>
    			</condition>
    			<effect util="1">
    				<set var="u_m" value="Your response wasn't recognized, please guess a state!"/>
    				<set var="recogErrorCount" value="15"/>
    			</effect>
    		</case>
    		
    	    <!-- if the "join" variable was a positive confirmation on first iteration --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[yes,yeah,yea,sure,okay,Yes,Yeah,Yea,Sure,Okay,I guess,guess so,Maybe,maybe]"/>
    				<if var="state" relation="=" value="0"/>
    			</condition>
    			<!-- set the machine utterance and change the current step to be first hint -->
    			<effect util="1">
    				<set var="u_m" value="Alright, lets play the game! This state's Railroad Museum is in Sacramento and is the largest museum of its kind in North America. "/>
    				<set var="current_step" value="firsth"/>
    				<set var="state" value="1"/>
    				<set var="answer" value="California"/>
    			</effect>
    		</case>
    		
    		<!-- if the "join" variable was a positive confirmation on first iteration --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[More,details,more information,how,you play,I play,it work,tell me,Tell me,Could,information,Information,don't,understand]"/>
    				<if var="state" relation="=" value="0"/>
    			</condition>
    			<!-- set the machine utterance and change the current step to be first hint -->
    			<effect util="1">
    				<set var="u_m" value="I'll give you four total hints for each state. You'll be graded on an A-F scale depending on how many hints it takes you to guess correctly. Would you like to begin?"/>
    			</effect>
    		</case>
    
            <!-- if "join" was negative confirmation on first iteration -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[No,Nope,no,nope]"/>
    				<if var="state" relation="=" value="0"/>
    			</condition>
    			<!-- troll the user accordingly -->
    			<!-- set the machine utterance and current step to first hint -->
    			<effect util="1">
    				<set var="u_m" value="You said {join}, but I don't care. Let's get started! This state's Railroad Museum is in Sacramento and is the largest museum of its kind in North America. " />
    				<set var="current_step" value="firsth"/>
    				<set var="state" value="1"/>
    				<set var="answer" value="California"/>
    			</effect>
    		</case>
    		
    		<!-- if the "join" variable was a positive confirmation on first iteration --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[yes,yeah,yea,sure,okay,Yes,Yeah,Yea,Sure,Okay,I guess,guess so,Maybe,maybe]"/>
    				<if var="state" relation="=" value="1"/>
    			</condition>
    			<!-- set the machine utterance and change the current step to be first hint -->
    			<effect util="1">
    				<set var="u_m" value="Alright, lets play the game! This state is home to Saint Augustine which is the oldest European settlement in North America."/>
    				<set var="current_step" value="firsth"/>
    				<set var="state" value="2"/>
    				<set var="answer" value="Florida"/>
    			</effect>
    		</case>
    
            <!-- if "join" was negative confirmation on first iteration -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[No,Nope,no,nope]"/>
    				<if var="state" relation="=" value="1"/>
    			</condition>
    			<!-- troll the user accordingly -->
    			<!-- set the machine utterance and current step to first hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay, thanks for playing! Failed to recognize user: {recogErrorCount} times out of {u_uCount} utterances. "/>
    				<set var="current_state" value="done"/>
				<set var="state" value="-1"/>
    			</effect>
    		</case>
    		
    		<!-- if the "join" variable was a positive confirmation on first iteration --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[yes,yeah,yea,sure,okay,Yes,Yeah,Yea,Sure,Okay,I guess,guess so,Maybe,maybe]"/>
    				<if var="state" relation="=" value="2"/>
    			</condition>
    			<!-- set the machine utterance and change the current step to be first hint -->
    			<effect util="1">
    				<set var="u_m" value="Alright, lets play the game! When American astronauts communicate with 'ground control', the people who answer them work in this state."/>
    				<set var="current_step" value="firsth"/>
    				<set var="state" value="3"/>
    				<set var="answer" value="Texas"/>
    			</effect>
    		</case>
    
            <!-- if "join" was negative confirmation on first iteration -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[No,Nope,no,nope]"/>
    				<if var="state" relation="=" value="2"/>
    			</condition>
    			<!-- troll the user accordingly -->
    			<!-- set the machine utterance and current step to first hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay, thanks for playing! Failed to recognize user: {recogErrorCount} times out of {u_uCount} utterances."/>
    				<set var="current_state" value="done"/>
				<set var="state" value="-1"/>
    			</effect>
    		</case>
    		
    		<!-- if the "join" variable was a positive confirmation on first iteration --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[yes,yeah,yea,sure,okay,Yes,Yeah,Yea,Sure,Okay,I guess,guess so,Maybe,maybe]"/>
    				<if var="state" relation="=" value="3"/>
    			</condition>
    			<!-- set the machine utterance and change the current step to be first hint -->
    			<effect util="1">
    				<set var="u_m" value="Alright, lets play the game! This state borders on two Great Lakes as well as Niagara Falls."/>
    				<set var="current_step" value="firsth"/>
    				<set var="state" value="4"/>
    				<set var="answer" value="New York"/>
    			</effect>
    		</case>
    
            <!-- if "join" was negative confirmation on first iteration -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[No,Nope,no,nope]"/>
    				<if var="state" relation="=" value="3"/>
    			</condition>
    			<!-- troll the user accordingly -->
    			<!-- set the machine utterance and current step to first hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay, thanks for playing! Failed to recognize user: {recogErrorCount} times out of {u_uCount} utterances."/>
    				<set var="current_state" value="done"/>
				<set var="state" value="-1"/>
    			</effect>
    		</case>
    		
    		<!-- if the "join" variable was a positive confirmation on first iteration --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[yes,yeah,yea,sure,okay,Yes,Yeah,Yea,Sure,Okay,I guess,guess so,Maybe,maybe]"/>
    				<if var="state" relation="=" value="4"/>
    			</condition>
    			<!-- set the machine utterance and change the current step to be first hint -->
    			<effect util="1">
    				<set var="u_m" value="Alright, lets play the game! Abraham Lincoln was elected President of the United States while living in this state."/>
    				<set var="current_step" value="firsth"/>
    				<set var="state" value="5"/>
    				<set var="answer" value="Illinois"/>
    			</effect>
    		</case>
    
            <!-- if "join" was negative confirmation on first iteration -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[No,Nope,no,nope]"/>
    				<if var="state" relation="=" value="4"/>
    			</condition>
    			<!-- troll the user accordingly -->
    			<!-- set the machine utterance and current step to first hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay, thanks for playing! Failed to recognize user: {recogErrorCount} times out of {u_uCount} utterances."/>
    				<set var="current_state" value="done"/>
				<set var="state" value="-1"/>
    			</effect>
    		</case>
    		
    		<!-- if the "join" variable was a positive confirmation on first iteration --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[yes,yeah,yea,sure,okay,Yes,Yeah,Yea,Sure,Okay,I guess,guess so,Maybe,maybe]"/>
    				<if var="state" relation="=" value="5"/>
    			</condition>
    			<!-- set the machine utterance and change the current step to be first hint -->
    			<effect util="1">
    				<set var="u_m" value="Alright, lets play the game! Denali, the tallest mountain in North America, is located in this state."/>
    				<set var="current_step" value="firsth"/>
    				<set var="state" value="6"/>
 				<set var="answer" value="Alaska"/>
    			</effect>
    		</case>
    
            <!-- if "join" was negative confirmation on first iteration -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[No,Nope,no,nope]"/>
    				<if var="state" relation="=" value="5"/>
    			</condition>
    			<!-- troll the user accordingly -->
    			<!-- set the machine utterance and current step to first hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay, thanks for playing! Failed to recognize user: {recogErrorCount} times out of {u_uCount} utterances."/>
    				<set var="current_state" value="done"/>
				<set var="state" value="-1"/>
    			</effect>
    		</case>
    		
    		<!-- if the "join" variable was a positive confirmation on first iteration --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[yes,yeah,yea,sure,okay,Yes,Yeah,Yea,Sure,Okay,I guess,guess so,Maybe,maybe]"/>
    				<if var="state" relation="=" value="6"/>
    			</condition>
    			<!-- set the machine utterance and change the current step to be first hint -->
    			<effect util="1">
    				<set var="u_m" value="Alright, lets play the game! This state has the most endangered species of any U.S. state."/>
    				<set var="current_step" value="firsth"/>
    				<set var="state" value="7"/>
 				<set var="answer" value="Hawaii"/>
    			</effect>
    		</case>
    
            <!-- if "join" was negative confirmation on first iteration -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[No,Nope,no,nope]"/>
    				<if var="state" relation="=" value="6"/>
    			</condition>
    			<!-- troll the user accordingly -->
    			<!-- set the machine utterance and current step to first hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay, thanks for playing! Failed to recognize user: {recogErrorCount} times out of {u_uCount} utterances."/>
    				<set var="current_state" value="done"/>
				<set var="state" value="-1"/>
    			</effect>
    		</case>
    		
    		<!-- if the "join" variable was a positive confirmation on first iteration --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[yes,yeah,yea,sure,okay,Yes,Yeah,Yea,Sure,Okay,I guess,guess so,Maybe,maybe]"/>
    				<if var="state" relation="=" value="7"/>
    			</condition>
    			<!-- set the machine utterance and change the current step to be first hint -->
    			<effect util="1">
    				<set var="u_m" value="Alright, lets play the game! This state was home to the first Thanksgiving."/>
    				<set var="current_step" value="firsth"/>
    				<set var="state" value="8"/>
 				<set var="answer" value="Massachusetts"/>
    			</effect>
    		</case>
    
            <!-- if "join" was negative confirmation on first iteration -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[No,Nope,no,nope]"/>
    				<if var="state" relation="=" value="7"/>
    			</condition>
    			<!-- troll the user accordingly -->
    			<!-- set the machine utterance and current step to first hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay, thanks for playing! Failed to recognize user: {recogErrorCount} times out of {u_uCount} utterances."/>
    				<set var="current_state" value="done"/>
				<set var="state" value="-1"/>
    			</effect>
    		</case>
    		
    		<!-- if the "join" variable was a positive confirmation on first iteration --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[yes,yeah,yea,sure,okay,Yes,Yeah,Yea,Sure,Okay,I guess,guess so,Maybe,maybe]"/>
    				<if var="state" relation="=" value="8"/>
    			</condition>
    			<!-- set the machine utterance and change the current step to be first hint -->
    			<effect util="1">
    				<set var="u_m" value="Alright, lets play the game! In 1926, the Southern Pacific Railroad connected this state with the eastern states."/>
    				<set var="current_step" value="firsth"/>
    				<set var="state" value="9"/>
 				<set var="answer" value="Arizona"/>
    			</effect>
    		</case>
    
            <!-- if "join" was negative confirmation on first iteration -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[No,Nope,no,nope]"/>
    				<if var="state" relation="=" value="8"/>
    			</condition>
    			<!-- troll the user accordingly -->
    			<!-- set the machine utterance and current step to first hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay, thanks for playing! Failed to recognize user: {recogErrorCount} times out of {u_uCount} utterances."/>
    				<set var="current_state" value="done"/>
				<set var="state" value="-1"/>
    			</effect>
    		</case>
    		
    		
    		<!-- if the "join" variable was a positive confirmation on first iteration --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[yes,yeah,yea,sure,okay,Yes,Yeah,Yea,Sure,Okay,I guess,guess so,Maybe,maybe]"/>
    				<if var="state" relation="=" value="9"/>
    			</condition>
    			<!-- set the machine utterance and change the current step to be first hint -->
    			<effect util="1">
    				<set var="u_m" value="Alright, lets play the game! The figures of Stonewall Jackson, Jefferson Davis, and Robert E. Lee make up the world's largest sculpture. It is located on the face of Stone Mountain in this state. "/>
    				<set var="current_step" value="firsth"/>
    				<set var="state" value="10"/>
 				<set var="answer" value="Georgia"/>
    			</effect>
    		</case>
    
            <!-- if "join" was negative confirmation on first iteration -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    				<if var="join" relation="in" value="[No,Nope,no,nope]"/>
    				<if var="state" relation="=" value="9"/>
    			</condition>
    			<!-- troll the user accordingly -->
    			<!-- set the machine utterance and current step to first hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay, thanks for playing! Failed to recognize user: {recogErrorCount} times out of {u_uCount} utterances."/>
    				<set var="current_state" value="done"/>
				<set var="state" value="-1"/>
    			</effect>
    		</case>
    	
         <!-- if "join" didn't contain a positive or negative confirmation -->
         <!-- recognition of user input error is logged here --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="0"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="1"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="1"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="2"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="2"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="3"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="3"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="4"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="4"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="5"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="5"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="6"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="6"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="7"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="7"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="8"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="8"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="9"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="9"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="10"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="10"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="11"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="11"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="12"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="12"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="13"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="13"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="14"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="14"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="15"/>
    			</effect>
    		</case>
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="begin"/>
    				<if var="recogErrorCount" relation="=" value="15"/>
    				<if var="a_m" relation="=" value="CheckAgree({join})"/>
    			</condition>
    			<!-- set machine utterance to prompt for confirmation again -->
    			<effect util="1">
    				<set var="u_m" value="I'm sorry, your response wasn't recognized. Would you like to play the game?"/>
    				<set var="recogErrorCount" value="16"/>
    			</effect>
    		</case>
    	</rule> <!-- END RULE FOR CURRENT STEP BEGIN -->
    
    
    
    
    	<!-- rule for current step hint -->
    	<!-- this will check the user's guess and confirm or reject. if confirm, give them their score for this iteration -->
    	<rule>
    		<!-- if the user is unsure of answer --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|secondh|thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="X" relation="in" value="[Don't know,do not know,Not sure,Unsure,Uncertain,Confused,don't know,don't,not sure,unsure,uncertain,confused,know]"/>
    			</condition>
    			<!-- set the machine utterance to prompt user to ask for a hint-->
    			<effect util="1">
    				<set var="u_m" value="If you're not sure you can ask for another hint! "/>
    			</effect>
    		</case>
    		
    		<!-- if the user is unsure of answer on final hint--> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="X" relation="in" value="[Don't know,do not know,Not sure,Unsure,Uncertain,Confused,don't know,don't,not sure,unsure,uncertain,confused,know]"/>
    			</condition>
    			<!-- set the machine utterance to prompt user to ask for a hint-->
    			<effect util="1">
    				<set var="u_m" value="Because this is your last hint, you can guess one last time or ask for the answer if you don't know."/>
    			</effect>
    		</case>
    		
    		<!-- if the user concedes on final hint--> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="X" relation="in" value="[am weak,weakness,concede,Concede,admit,defeat,lose,defeated,lost,answer,tell me,give,please,Answer,Tell,Give up,give up,forfeit,Forfeit,quit,Quit]"/>
    			</condition>
    			<!-- set the machine utterance to prompt user to ask for a hint-->
    			<effect util="1">
    				<set var="u_m" value="Quitter. The correct answer was {answer}. Want to play again?"/>
    				<set var="current_state" value="begin"/>
    			</effect>
    		</case>
    		
    		<!-- BEGIN CORRECT RESPONSE HANDLING --> 
    	    <!-- STATE 1 -->
    	    	<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="1"/>
    				<if var="X" relation="=" value="California|california|CA|ca"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned an A for guessing on the first hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    	    	
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="1"/>
    				<if var="X" relation="=" value="California|california|CA|ca"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a B for guessing on the second hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="1"/>
    				<if var="X" relation="=" value="California|california|CA|ca"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a C for guessing on the third hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="1"/>
    				<if var="X" relation="=" value="California|california|CA|ca"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a D for guessing on the final hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<!-- if the machine act is to check a user's guess and they've guessed correctly -->
    		<!-- SECOND STATE HANDLING CORRECT GUESS --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="2"/>
    				<if var="X" relation="=" value="Florida|florida|FL|fl"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned an A for guessing on the first hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    	    	
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="2"/>
    				<if var="X" relation="=" value="Florida|florida|FL|fl"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a B for guessing on the second hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="2"/>
    				<if var="X" relation="=" value="Florida|florida|FL|fl"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a C for guessing on the third hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="2"/>
    				<if var="X" relation="=" value="Florida|florida|FL|fl"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a D for guessing on the final hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		
    		<!-- if the machine act is to check a user's guess and they've guessed correctly -->
    		<!-- THIRD STATE HANDLING CORRECT GUESS --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="3"/>
    				<if var="X" relation="=" value="Texas|texas|TX|tx"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned an A for guessing on the first hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    	    	
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="3"/>
    				<if var="X" relation="=" value="Texas|texas|TX|tx"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a B for guessing on the second hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="3"/>
    				<if var="X" relation="=" value="Texas|texas|TX|tx"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a C for guessing on the third hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="3"/>
    				<if var="X" relation="=" value="Texas|texas|TX|tx"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a D for guessing on the final hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		
    		<!-- if the machine act is to check a user's guess and they've guessed correctly -->
    		<!-- FOURTH STATE HANDLING CORRECT GUESS --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="4"/>
    				<if var="X" relation="=" value="New York|new york|ny|NY"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned an A for guessing on the first hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    	    	
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="4"/>
    				<if var="X" relation="=" value="New York|new york|ny|NY"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a B for guessing on the second hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="4"/>
    				<if var="X" relation="=" value="New York|new york|ny|NY"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a C for guessing on the third hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="4"/>
    				<if var="X" relation="=" value="New York|new york|ny|NY"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a D for guessing on the final hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		
    		<!-- if the machine act is to check a user's guess and they've guessed correctly -->
    		<!-- FIFTH STATE HANDLING CORRECT GUESS --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="5"/>
    				<if var="X" relation="=" value="Illinois|illinois|il|IL"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned an A for guessing on the first hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    	    	
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="5"/>
    				<if var="X" relation="=" value="Illinois|illinois|il|IL"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a B for guessing on the second hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="5"/>
    				<if var="X" relation="=" value="Illinois|illinois|il|IL"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a C for guessing on the third hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="5"/>
    				<if var="X" relation="=" value="Illinois|illinois|il|IL"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a D for guessing on the final hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<!-- if the machine act is to check a user's guess and they've guessed correctly -->
    		<!-- SIXTH STATE HANDLING CORRECT GUESS --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="6"/>
    				<if var="X" relation="=" value="Alaska|alaska|ak|AK"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned an A for guessing on the first hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    	    	
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="6"/>
    				<if var="X" relation="=" value="Alaska|alaska|ak|AK"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a B for guessing on the second hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="6"/>
    				<if var="X" relation="=" value="Alaska|alaska|ak|AK"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a C for guessing on the third hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="6"/>
    				<if var="X" relation="=" value="Alaska|alaska|ak|AK"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a D for guessing on the final hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		
    		<!-- if the machine act is to check a user's guess and they've guessed correctly -->
    		<!-- SEVENTH STATE HANDLING CORRECT GUESS --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="7"/>
    				<if var="X" relation="=" value="Hawaii|hawaii|HI|hi"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned an A for guessing on the first hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    	    	
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="7"/>
    				<if var="X" relation="=" value="Hawaii|hawaii|HI|hi"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a B for guessing on the second hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="7"/>
    				<if var="X" relation="=" value="Hawaii|hawaii|HI|hi"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a C for guessing on the third hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="7"/>
    				<if var="X" relation="=" value="Hawaii|hawaii|HI|hi"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a D for guessing on the final hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		
    		<!-- if the machine act is to check a user's guess and they've guessed correctly -->
    		<!-- EIGHTH STATE HANDLING CORRECT GUESS --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="8"/>
    				<if var="X" relation="=" value="MA|Massachusetts|ma|massachusetts"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned an A for guessing on the first hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    	    	
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="8"/>
    				<if var="X" relation="=" value="MA|Massachusetts|ma|massachusetts"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a B for guessing on the second hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="8"/>
    				<if var="X" relation="=" value="MA|Massachusetts|ma|massachusetts"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a C for guessing on the third hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="8"/>
    				<if var="X" relation="=" value="MA|Massachusetts|ma|massachusetts"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a D for guessing on the final hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<!-- if the machine act is to check a user's guess and they've guessed correctly -->
    		<!-- NINTH STATE HANDLING CORRECT GUESS --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="9"/>
    				<if var="X" relation="=" value="Arizona|arizona|AZ|az"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned an A for guessing on the first hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    	    	
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="9"/>
    				<if var="X" relation="=" value="Arizona|arizona|AZ|az"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a B for guessing on the second hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="9"/>
    				<if var="X" relation="=" value="Arizona|arizona|AZ|az"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a C for guessing on the third hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="9"/>
    				<if var="X" relation="=" value="Arizona|arizona|AZ|az"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a D for guessing on the final hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>
    		
    		<!-- if the machine act is to check a user's guess and they've guessed correctly -->
    		<!-- TENTH STATE HANDLING CORRECT GUESS --> 
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="10"/>
    				<if var="X" relation="=" value="Georgia|georgia|GA|ga"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned an A for guessing on the first hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    				<set var="state" value="0"/>
    			</effect>
    		</case>
    	    	
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="10"/>
    				<if var="X" relation="=" value="Georgia|georgia|GA|ga"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a B for guessing on the second hint! Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    				<set var="state" value="0"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="10"/>
    				<if var="X" relation="=" value="Georgia|georgia|GA|ga"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a C for guessing on the third hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    				<set var="state" value="0"/>
    			</effect>
    		</case>
    		
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    				<if var="state" relation="=" value="10"/>
    				<if var="X" relation="=" value="Georgia|georgia|GA|ga"/>
    			</condition>
    			<!-- tell them they've won and set the current step to done -->
    			<effect util="1">
    				<set var="u_m" value="{X} is correct! You've earned a D for guessing on the final hint. Would you like to play again?"/>
    				<set var="current_step" value="begin"/>
    				<set var="state" value="0"/>
    			</effect>
    		</case>
    		
    		<!-- BEGIN INCORRECT RESPONSE HANDLING --> 
    		<!-- if the machine act is to check a user's guess and they've guessed incorrectly -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="firsth|thirdh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    			</condition>
    			<!-- set machine utterance to tell them they've guessed incorrectly and provide them with -->
    			<!-- their options for continuing the game -->
    			<effect util="1">
    				<set var="u_m" value="{X} is incorrect! You can ask for another hint, or guess again."/>
    			</effect>
    		</case>
    		
    		<!-- if the machine act is to check a user's guess and they've guessed incorrectly -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    			</condition>
    			<!-- set machine utterance to tell them they've guessed incorrectly and provide them with -->
    			<!-- their options for continuing the game -->
    			<effect util="1">
    				<set var="u_m" value="WRONG! Gosh you stink. I guess you could ask for another hint, or guess again if you think it's worth my time."/>
    			</effect>
    		</case>
    		
    		<!-- if the machine act is to check a user's guess and they've guessed incorrectly -->
    		<case>
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckGuess({X})"/>
    			</condition>
    			<!-- set machine utterance to tell them they've guessed incorrectly and provide them with -->
    			<!-- their options for continuing the game -->
    			<effect util="1">
    				<set var="u_m" value="{X} is incorrect! That's all 3 extra hints, wow you aren't very good at this. Your get an F. The correct answer was {answer}. Want to play again?"/>
    				<set var="current_step" value="begin"/>
    			</effect>
    		</case>

    	</rule> <!-- END RULE FOR CURRENT STEP HINT -->
    	
    	
    	
    	
    	<!-- rule for current step second hint --> 
    	<rule>
    		<!-- Second hint for Cali-->
    	    <case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="1"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. This state is home to Death Valley. It is recognized as the hottest, driest place in the United States. It isn't uncommon for the summer temperatures to reach more than 115 degrees."/>
    			</effect>
    		</case>
    		
    		<!-- Second hint for FL (state 2) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="2"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. This state has the longest coastline in the contiguous United States at 1,350 miles."/>
    			</effect>
    		</case>
    		
    		<!-- Second hint for TX (state 3) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="3"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Six different nations have claimed this state since its original Native American inhabitants."/>
    			</effect>
    		</case>
    		
    		<!-- Second hint for NY (state 4) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="4"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Adirondack State Park, located in this state, is the largest state park in the US."/>
    			</effect>
    		</case>
    		
    		<!-- Second hint for IL (state 5) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="5"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. This state is not Michigan, but it is bordered by Lake Michigan."/>
    			</effect>
    		</case>
    		
    		<!-- Second hint for AK (state 6) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="6"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. When ancient humans first began to move from Asia to North America, they arrived in what is now this state."/>
    			</effect>
    		</case>
    		
    		<!-- Second hint for HI (state 7) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="7"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Until the middle of the 19th century, this state was an independent kingdom."/>
    			</effect>
    		</case>
    		
    		<!-- Second hint for MA (state 8) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="8"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. The Salem Witch Trials took place in this state."/>
    			</effect>
    		</case>
    		
    		<!-- Second hint for AZ (state 9) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="9"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. The saguaro cactus blossom is the official state flower of this state. "/>
    			</effect>
    		</case>
    		
    		<!-- Second hint for GA (state 10) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="secondh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="10"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Savannah was the landing site for General James Edward Oglethorpe, founder of this state. "/>
    			</effect>
    		</case>
    	</rule> <!-- END RULE FOR CURRENT STEP SECOND HINT -->
    		
    		
    	<!-- rule for current step third hint --> 
    	<rule>
    		<!-- Third hint for Cali (state 1) -->
    	    <case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="1"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. This state is home to the highest and lowest points in the continental United States, and they are within 100 miles of one another. Mount Whitney measures 14,495 feet and Bad Water in Death Valley is 282 feet below sea level. "/>
    				
    			</effect>
    		</case>
    		
    		<!-- Third hint for FL (state 2) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="2"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. This is the flattest state in the USA with an average elevation of 100ft above sea level."/>
    				
    			</effect>
    		</case>
    		
    		<!-- Third hint for TX (state 3) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="3"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. This state is the second-largest in area and population in the United States."/>
    			</effect>
    		</case>
    		
    		<!-- Third hint for NY (state 4) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="4"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Henry Hudson was one of the first Europeans to explore this state."/>
    			</effect>
    		</case>
    		
    		<!-- Third hint for IL (state 5) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="5"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. After a losing streak that lasted more than 100 years, a baseball team from this state won the 2016 World Series. FLY THE W BABY!!!"/>
    			</effect>
    		</case>
    		
    		<!-- Third hint for AK (state 6) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="6"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. This state's largest city is Anchorage."/>
    			</effect>
    		</case>
    		
    		<!-- Third hint for HI (state 7) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="7"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. This state was the most recent state to join the United States."/>
    			</effect>
    		</case>
    		
    		<!-- Third hint for MA (state 8) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="8"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. This state is one of only four U.S. states to consider itself a commonwealth."/>
    			</effect>
    		</case>
    		
    		<!-- Third hint for AZ (state 9) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="9"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. This state is one of the four states whose borders meet at the 'Four Corners'."/>
    			</effect>
    		</case>
    		
    		<!-- Third hint for GA (state 10) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="thirdh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="10"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. This state is the nation's number one producer of the three Ps--peanuts, pecans, and peaches."/>
    			</effect>
    		</case>
    	</rule> <!-- END RULE FOR CURRENT STEP THIRD HINT -->
    		
    		
    		
    	<!-- rule for current step final hint --> 
    	<rule>
    		<!-- Final hint for Cali (state 1) -->
    	    <case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="1"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Last Hint! This state is home to Sequoia National Park, which contains the largest living tree. Its trunk is 102 feet in circumference. "/>
    				
    			</effect>
    		</case>
    		
    		<!-- Final hint for FL (state 2) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="2"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Last Hint! This state is the flattest state in the US with a mean elevation of just 100ft above sea level."/>
    				
    			</effect>
    		</case>
    		
    		<!-- Final hint for TX (state 3) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="3"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Last Hint! A nickname for this state is the 'Lone Star State.'"/>
    			</effect>
    		</case>
    		
    		<!-- Final hint for NY (state 4) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="4"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Last Hint! A nickname for this state is the 'Empire State'."/>
    			</effect>
    		</case>
    		
    		<!-- Final hint for IL (state 5) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="5"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Last Hint! The largest city in this state is Chicago."/>
    			</effect>
    		</case>
    		
    		<!-- Final hint for AK (state 6) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="6"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Last Hint! The only part of the United States that falls within the Arctic Circle is in this state."/>
    			</effect>
    		</case>
    		
    		<!-- Final hint for HI (state 7) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="7"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Last Hint! The capital of this state is Honolulu."/>
    			</effect>
    		</case>
    		
    		<!-- Final hint for MA (state 8) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="8"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Last Hint! The largest city in this state is Boston, which is also its capital."/>
    			</effect>
    		</case>
    		
    		<!-- Final hint for AZ (state 9) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="9"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Last Hint! Visitors to this state often come to see the Grand Canyon."/>
    			</effect>
    		</case>
    		
    		<!-- Final hint for GA (state 10) -->
    		<case>
    	        <!-- if the machine act is to check they've asked for a hint -->
    			<condition>
    				<if var="current_step" relation="=" value="finalh"/>
    				<if var="a_m" relation="=" value="CheckAsk({hint})"/>
    				<if var="state" relation="=" value="10"/>
    			</condition>
    			<!-- set machine utterance to provide another hint -->
    			<effect util="1">
    				<set var="u_m" value="Okay. Last Hint! This state was named for King George II of England."/>
    			</effect>
    		</case>
    	</rule> <!-- END RULE FOR CURRENT STEP FINAL HINT -->
    
    
</model>

</domain>